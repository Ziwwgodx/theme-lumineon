{% comment %}
  Section Cart Page - Panier avec effets néon avancés et UX premium
{% endcomment %}

<style>
/* Cart Page Premium Styles */
.cart-page {
  min-height: 100vh;
  background: linear-gradient(135deg, #111827 0%, #1f2937 50%, #111827 100%);
  position: relative;
  overflow-x: hidden;
}

/* Animated Background Effects */
.cart-bg-effects {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 1;
}

.floating-cart-orb {
  position: absolute;
  border-radius: 50%;
  opacity: 0.08;
  animation: float-cart-orb 15s ease-in-out infinite;
  filter: blur(3px);
}

.cart-orb-1 {
  width: 400px;
  height: 400px;
  background: radial-gradient(circle, #00f5ff, transparent);
  top: 5%;
  left: -10%;
  animation-delay: 0s;
}

.cart-orb-2 {
  width: 300px;
  height: 300px;
  background: radial-gradient(circle, #a855f7, transparent);
  top: 40%;
  right: -15%;
  animation-delay: -5s;
}

.cart-orb-3 {
  width: 250px;
  height: 250px;
  background: radial-gradient(circle, #ec4899, transparent);
  bottom: 10%;
  left: 20%;
  animation-delay: -10s;
}

@keyframes float-cart-orb {
  0%, 100% {
    transform: translateY(0px) rotate(0deg) scale(1);
    opacity: 0.08;
  }
  33% {
    transform: translateY(-40px) rotate(120deg) scale(1.1);
    opacity: 0.12;
  }
  66% {
    transform: translateY(-80px) rotate(240deg) scale(0.9);
    opacity: 0.15;
  }
}

/* Neon Grid Pattern */
.cart-neon-grid {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: 
    linear-gradient(rgba(0, 245, 255, 0.02) 1px, transparent 1px),
    linear-gradient(90deg, rgba(0, 245, 255, 0.02) 1px, transparent 1px);
  background-size: 60px 60px;
  animation: grid-pulse-cart 6s ease-in-out infinite;
}

@keyframes grid-pulse-cart {
  0%, 100% { opacity: 0.4; }
  50% { opacity: 0.1; }
}

/* Cart Header */
.cart-header {
  position: relative;
  z-index: 10;
  text-align: center;
  padding: 8rem 2rem 4rem;
}

.cart-title {
  font-size: clamp(3rem, 8vw, 6rem);
  font-weight: 900;
  margin-bottom: 1.5rem;
  background: linear-gradient(45deg, #00f5ff, #a855f7, #ec4899);
  background-size: 300% 300%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: gradient-shift-cart 4s ease-in-out infinite;
  text-shadow: 0 0 40px rgba(0, 245, 255, 0.3);
  position: relative;
}

.cart-title::after {
  content: '';
  position: absolute;
  bottom: -12px;
  left: 50%;
  transform: translateX(-50%);
  width: 60%;
  height: 4px;
  background: linear-gradient(90deg, transparent, #00f5ff, transparent);
  border-radius: 2px;
  animation: underline-glow-cart 3s ease-in-out infinite;
}

@keyframes gradient-shift-cart {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

@keyframes underline-glow-cart {
  0%, 100% { opacity: 0.4; transform: translateX(-50%) scaleX(0.8); }
  50% { opacity: 1; transform: translateX(-50%) scaleX(1); }
}

/* Cart Container */
.cart-container {
  position: relative;
  z-index: 10;
  max-width: 1400px;
  margin: 0 auto;
  padding: 0 2rem 6rem;
}

/* Cart Items */
.cart-items-container {
  background: linear-gradient(135deg, rgba(31, 41, 55, 0.9), rgba(55, 65, 81, 0.7));
  border-radius: 24px;
  border: 2px solid rgba(0, 245, 255, 0.2);
  backdrop-filter: blur(20px);
  padding: 2rem;
  margin-bottom: 2rem;
  position: relative;
  overflow: hidden;
}

.cart-items-container::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: linear-gradient(90deg, #00f5ff, #a855f7, #ec4899, #00f5ff);
  background-size: 300% 100%;
  animation: border-flow 3s linear infinite;
}

@keyframes border-flow {
  0% { background-position: 0% 0%; }
  100% { background-position: 300% 0%; }
}

.cart-item {
  display: grid;
  grid-template-columns: 120px 1fr auto;
  gap: 1.5rem;
  align-items: center;
  padding: 1.5rem;
  background: linear-gradient(135deg, rgba(17, 24, 39, 0.8), rgba(31, 41, 55, 0.6));
  border-radius: 16px;
  border: 1px solid rgba(75, 85, 99, 0.3);
  margin-bottom: 1rem;
  transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  position: relative;
  overflow: hidden;
}

.cart-item:hover {
  transform: translateY(-5px) scale(1.02);
  border-color: rgba(0, 245, 255, 0.5);
  box-shadow: 
    0 10px 30px rgba(0, 0, 0, 0.3),
    0 0 20px rgba(0, 245, 255, 0.2);
}

.cart-item::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(0, 245, 255, 0.1), transparent);
  transition: left 0.6s;
}

.cart-item:hover::before {
  left: 100%;
}

.cart-item-image {
  width: 120px;
  height: 120px;
  border-radius: 12px;
  object-fit: cover;
  border: 2px solid rgba(0, 245, 255, 0.3);
  transition: all 0.3s ease;
}

.cart-item:hover .cart-item-image {
  border-color: #00f5ff;
  box-shadow: 0 0 20px rgba(0, 245, 255, 0.4);
  transform: scale(1.05);
}

.cart-item-details h3 {
  color: #ffffff;
  font-size: 1.25rem;
  font-weight: 600;
  margin-bottom: 0.5rem;
  transition: color 0.3s ease;
}

.cart-item:hover .cart-item-details h3 {
  color: #00f5ff;
}

.cart-item-price {
  color: #00f5ff;
  font-size: 1.5rem;
  font-weight: bold;
  text-shadow: 0 0 10px rgba(0, 245, 255, 0.5);
}

/* Quantity Controls */
.quantity-controls {
  display: flex;
  align-items: center;
  gap: 1rem;
  background: rgba(31, 41, 55, 0.8);
  border-radius: 12px;
  padding: 0.5rem;
  border: 1px solid rgba(75, 85, 99, 0.5);
}

.quantity-btn {
  width: 36px;
  height: 36px;
  border-radius: 8px;
  border: 1px solid rgba(0, 245, 255, 0.3);
  background: transparent;
  color: #00f5ff;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.3s ease;
}

.quantity-btn:hover {
  background: rgba(0, 245, 255, 0.1);
  border-color: #00f5ff;
  transform: scale(1.1);
  box-shadow: 0 0 15px rgba(0, 245, 255, 0.3);
}

.quantity-input {
  width: 60px;
  text-align: center;
  background: transparent;
  border: none;
  color: #ffffff;
  font-size: 1.1rem;
  font-weight: 600;
}

.remove-btn {
  background: linear-gradient(45deg, #ef4444, #dc2626);
  border: none;
  border-radius: 8px;
  color: white;
  padding: 0.5rem;
  cursor: pointer;
  transition: all 0.3s ease;
}

.remove-btn:hover {
  transform: scale(1.1) rotate(5deg);
  box-shadow: 0 0 20px rgba(239, 68, 68, 0.4);
}

/* Cart Summary */
.cart-summary {
  background: linear-gradient(135deg, rgba(31, 41, 55, 0.95), rgba(55, 65, 81, 0.8));
  border-radius: 24px;
  border: 2px solid rgba(168, 85, 247, 0.3);
  backdrop-filter: blur(20px);
  padding: 2rem;
  position: relative;
  overflow: hidden;
}

.cart-summary::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: linear-gradient(90deg, #a855f7, #ec4899, #00f5ff, #a855f7);
  background-size: 300% 100%;
  animation: border-flow 4s linear infinite;
}

.summary-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem 0;
  border-bottom: 1px solid rgba(75, 85, 99, 0.3);
}

.summary-row:last-child {
  border-bottom: none;
  font-size: 1.25rem;
  font-weight: bold;
}

.summary-total {
  color: #00f5ff;
  font-size: 2rem;
  font-weight: 900;
  text-shadow: 0 0 15px rgba(0, 245, 255, 0.5);
  animation: pulse-glow-cart 2s infinite;
}

@keyframes pulse-glow-cart {
  0%, 100% {
    text-shadow: 0 0 15px rgba(0, 245, 255, 0.5);
  }
  50% {
    text-shadow: 0 0 25px rgba(0, 245, 255, 0.8);
  }
}

/* Trust Indicators */
.trust-indicators {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1rem;
  margin: 2rem 0;
}

.trust-item {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 1rem;
  background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(5, 150, 105, 0.05));
  border: 1px solid rgba(16, 185, 129, 0.2);
  border-radius: 12px;
  transition: all 0.3s ease;
}

.trust-item:hover {
  transform: translateY(-3px);
  border-color: rgba(16, 185, 129, 0.4);
  box-shadow: 0 5px 20px rgba(16, 185, 129, 0.2);
}

.trust-icon {
  width: 24px;
  height: 24px;
  color: #10b981;
}

/* Checkout Button */
.checkout-btn {
  width: 100%;
  padding: 1.5rem 2rem;
  background: linear-gradient(45deg, #00f5ff, #a855f7, #ec4899);
  background-size: 300% 300%;
  animation: gradient-shift-cart 3s ease infinite;
  border: none;
  border-radius: 16px;
  color: white;
  font-size: 1.25rem;
  font-weight: bold;
  cursor: pointer;
  transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  position: relative;
  overflow: hidden;
  text-transform: uppercase;
  letter-spacing: 1px;
  margin-top: 1.5rem;
}

.checkout-btn::before {
  content: '';
  position: absolute;
  inset: -3px;
  background: linear-gradient(45deg, #00f5ff, #a855f7, #ec4899, #fbbf24);
  background-size: 400% 400%;
  border-radius: inherit;
  z-index: -1;
  animation: gradient-shift-cart 2s ease infinite;
  filter: blur(10px);
  opacity: 0;
  transition: opacity 0.4s ease;
}

.checkout-btn:hover::before {
  opacity: 0.8;
}

.checkout-btn:hover {
  transform: translateY(-5px) scale(1.02);
  box-shadow: 
    0 0 40px rgba(0, 245, 255, 0.6),
    0 0 80px rgba(168, 85, 247, 0.4),
    0 15px 40px rgba(0, 0, 0, 0.3);
}

/* Shine Effect */
.checkout-btn::after {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
  transform: translateX(-100%);
  transition: transform 0.8s;
}

.checkout-btn:hover::after {
  transform: translateX(100%);
}

/* Promo Code */
.promo-section {
  background: linear-gradient(135deg, rgba(251, 191, 36, 0.1), rgba(245, 158, 11, 0.05));
  border: 1px solid rgba(251, 191, 36, 0.2);
  border-radius: 16px;
  padding: 1.5rem;
  margin: 1.5rem 0;
}

.promo-input {
  width: 100%;
  padding: 1rem;
  background: rgba(31, 41, 55, 0.8);
  border: 2px solid rgba(75, 85, 99, 0.5);
  border-radius: 12px;
  color: white;
  font-size: 1rem;
  transition: all 0.3s ease;
}

.promo-input:focus {
  outline: none;
  border-color: #fbbf24;
  box-shadow: 0 0 20px rgba(251, 191, 36, 0.3);
}

.apply-promo-btn {
  width: 100%;
  margin-top: 1rem;
  padding: 1rem;
  background: linear-gradient(45deg, #fbbf24, #f59e0b);
  border: none;
  border-radius: 12px;
  color: white;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
}

.apply-promo-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 5px 20px rgba(251, 191, 36, 0.4);
}

/* Empty Cart */
.empty-cart {
  text-align: center;
  padding: 4rem 2rem;
}

.empty-cart-icon {
  width: 120px;
  height: 120px;
  margin: 0 auto 2rem;
  color: rgba(0, 245, 255, 0.3);
  animation: float-empty 3s ease-in-out infinite;
}

@keyframes float-empty {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-10px); }
}

.empty-cart h2 {
  color: #ffffff;
  font-size: 2rem;
  margin-bottom: 1rem;
}

.empty-cart p {
  color: #9ca3af;
  font-size: 1.1rem;
  margin-bottom: 2rem;
}

.continue-shopping-btn {
  display: inline-flex;
  align-items: center;
  gap: 0.75rem;
  padding: 1rem 2rem;
  background: linear-gradient(45deg, #00f5ff, #a855f7);
  border: none;
  border-radius: 12px;
  color: white;
  font-weight: 600;
  text-decoration: none;
  transition: all 0.3s ease;
}

.continue-shopping-btn:hover {
  transform: translateY(-3px) scale(1.05);
  box-shadow: 0 10px 30px rgba(0, 245, 255, 0.3);
}

/* Recommended Products */
.recommended-products {
  margin-top: 4rem;
  padding: 2rem;
  background: linear-gradient(135deg, rgba(31, 41, 55, 0.6), rgba(55, 65, 81, 0.4));
  border-radius: 20px;
  border: 1px solid rgba(75, 85, 99, 0.3);
}

.recommended-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin-top: 1.5rem;
}

.recommended-item {
  background: linear-gradient(135deg, rgba(17, 24, 39, 0.8), rgba(31, 41, 55, 0.6));
  border-radius: 16px;
  padding: 1rem;
  border: 1px solid rgba(75, 85, 99, 0.3);
  transition: all 0.3s ease;
  cursor: pointer;
}

.recommended-item:hover {
  transform: translateY(-5px);
  border-color: rgba(168, 85, 247, 0.5);
  box-shadow: 0 10px 30px rgba(168, 85, 247, 0.2);
}

/* Progress Bar */
.shipping-progress {
  background: rgba(31, 41, 55, 0.8);
  border-radius: 12px;
  padding: 1.5rem;
  margin: 1.5rem 0;
  border: 1px solid rgba(75, 85, 99, 0.3);
}

.progress-bar {
  width: 100%;
  height: 8px;
  background: rgba(75, 85, 99, 0.3);
  border-radius: 4px;
  overflow: hidden;
  margin: 1rem 0;
}

.progress-fill {
  height: 100%;
  background: linear-gradient(90deg, #00f5ff, #a855f7);
  border-radius: 4px;
  transition: width 0.5s ease;
  position: relative;
}

.progress-fill::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
  animation: progress-shine 2s infinite;
}

@keyframes progress-shine {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

/* Responsive Design */
@media (max-width: 768px) {
  .cart-header {
    padding: 6rem 1rem 3rem;
  }
  
  .cart-title {
    font-size: clamp(2rem, 12vw, 4rem);
  }
  
  .cart-container {
    padding: 0 1rem 4rem;
  }
  
  .cart-item {
    grid-template-columns: 80px 1fr;
    gap: 1rem;
  }
  
  .cart-item-image {
    width: 80px;
    height: 80px;
  }
  
  .quantity-controls {
    grid-column: 1 / -1;
    justify-self: start;
    margin-top: 1rem;
  }
  
  .trust-indicators {
    grid-template-columns: 1fr;
  }
}

/* Loading States */
.cart-loading {
  display: flex;
  justify-content: center;
  align-items: center;
  height: 200px;
  color: #00f5ff;
}

.loading-spinner {
  width: 40px;
  height: 40px;
  border: 3px solid rgba(0, 245, 255, 0.3);
  border-top: 3px solid #00f5ff;
  border-radius: 50%;
  animation: spin-cart 1s linear infinite;
  margin-right: 1rem;
}

@keyframes spin-cart {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* Success Animations */
.item-added {
  animation: item-added-pulse 0.6s ease;
}

@keyframes item-added-pulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.05); box-shadow: 0 0 30px rgba(16, 185, 129, 0.4); }
  100% { transform: scale(1); }
}

.quantity-updated {
  animation: quantity-glow 0.4s ease;
}

@keyframes quantity-glow {
  0%, 100% { box-shadow: none; }
  50% { box-shadow: 0 0 20px rgba(0, 245, 255, 0.5); }
}
</style>

<div class="cart-page" itemscope itemtype="https://schema.org/ShoppingCart">
  <!-- Background Effects -->
  <div class="cart-bg-effects">
    <div class="cart-neon-grid"></div>
    <div class="floating-cart-orb cart-orb-1"></div>
    <div class="floating-cart-orb cart-orb-2"></div>
    <div class="floating-cart-orb cart-orb-3"></div>
  </div>

  <!-- SEO Schema -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebPage",
    "name": "{{ section.settings.page_title | default: 'Panier - Néons LED Personnalisés' }}",
    "description": "{{ section.settings.page_description | default: 'Finalisez votre commande de néons LED personnalisés. Fabrication française haut de gamme, livraison express, paiement sécurisé. Garantie 2 ans incluse.' }}",
    "url": "{{ shop.url }}/cart",
    "mainEntity": {
      "@type": "ShoppingCart",
      "provider": {
        "@type": "Organization",
        "name": "LumiNéon"
      }
    },
    "breadcrumb": {
      "@type": "BreadcrumbList",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "Accueil",
          "item": "{{ shop.url }}"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "Panier",
          "item": "{{ shop.url }}/cart"
        }
      ]
    }
  }
  </script>

  <!-- Header -->
  <div class="cart-header">
    <h1 class="cart-title" itemprop="name">{{ section.settings.title | default: 'Votre Panier Néon' }}</h1>
    <p class="text-xl text-gray-300 max-w-2xl mx-auto leading-relaxed" itemprop="description">
      {{ section.settings.subtitle | default: '🛒 Finalisez votre commande de néons LED personnalisés. Fabrication française premium, livraison express sécurisée.' }}
    </p>
  </div>

  <div class="cart-container">
    <!-- Cart Content -->
    <div id="cart-content">
      <!-- Loading State -->
      <div id="cart-loading" class="cart-loading" style="display: none;">
        <div class="loading-spinner"></div>
        <span>{{ section.settings.loading_text | default: 'Chargement de votre panier...' }}</span>
      </div>

      <!-- Cart Items -->
      <div id="cart-items-section" style="display: none;">
        <div class="cart-items-container">
          <div class="flex items-center justify-between mb-6">
            <h2 class="text-2xl font-bold text-white">
              {{ section.settings.items_title | default: '🎨 Vos Créations Néon' }}
            </h2>
            <div class="text-cyan-400 font-semibold" id="cart-count">
              <span id="item-count">0</span> {{ section.settings.items_text | default: 'article(s)' }}
            </div>
          </div>
          
          <div id="cart-items-list">
            <!-- Cart items will be populated by JavaScript -->
          </div>
        </div>

        <!-- Trust Indicators -->
        <div class="trust-indicators">
          {% for block in section.blocks %}
            {% if block.type == 'trust_indicator' %}
              <div class="trust-item">
                <div class="trust-icon">
                  {{ block.settings.icon }}
                </div>
                <div>
                  <div class="text-white font-medium text-sm">{{ block.settings.title }}</div>
                  <div class="text-gray-400 text-xs">{{ block.settings.description }}</div>
                </div>
              </div>
            {% endif %}
          {% endfor %}
        </div>

        <!-- Shipping Progress -->
        {% if section.settings.show_shipping_progress %}
          <div class="shipping-progress">
            <div class="flex items-center justify-between mb-2">
              <span class="text-white font-medium">{{ section.settings.shipping_title | default: '🚚 Livraison Gratuite' }}</span>
              <span class="text-cyan-400 font-bold" id="shipping-remaining">{{ section.settings.shipping_threshold | default: '100' }}€</span>
            </div>
            <div class="progress-bar">
              <div class="progress-fill" id="shipping-progress" style="width: 0%"></div>
            </div>
            <p class="text-gray-400 text-sm mt-2" id="shipping-message">
              {{ section.settings.shipping_message | default: 'Plus que [amount]€ pour la livraison gratuite !' }}
            </p>
          </div>
        {% endif %}

        <!-- Promo Code -->
        {% if section.settings.show_promo_code %}
          <div class="promo-section">
            <h3 class="text-white font-semibold mb-3 flex items-center gap-2">
              <span class="text-xl">🎁</span>
              {{ section.settings.promo_title | default: 'Code Promo' }}
            </h3>
            <input 
              type="text" 
              id="promo-code-input"
              class="promo-input" 
              placeholder="{{ section.settings.promo_placeholder | default: 'Entrez votre code promo...' }}"
            />
            <button class="apply-promo-btn" onclick="applyPromoCode()">
              {{ section.settings.promo_button | default: 'Appliquer' }}
            </button>
          </div>
        {% endif %}

        <!-- Cart Summary -->
        <div class="cart-summary">
          <h3 class="text-2xl font-bold text-white mb-4 flex items-center gap-2">
            <span class="text-2xl">💎</span>
            {{ section.settings.summary_title | default: 'Récapitulatif Premium' }}
          </h3>
          
          <div class="summary-row">
            <span class="text-gray-300">{{ section.settings.subtotal_label | default: 'Sous-total' }}</span>
            <span class="text-white font-semibold" id="cart-subtotal">0,00 €</span>
          </div>
          
          <div class="summary-row">
            <span class="text-gray-300">{{ section.settings.shipping_label | default: 'Livraison Express' }}</span>
            <span class="text-green-400 font-semibold" id="shipping-cost">{{ section.settings.free_shipping | default: 'GRATUITE' }}</span>
          </div>
          
          {% if section.settings.show_tax_line %}
            <div class="summary-row">
              <span class="text-gray-300">{{ section.settings.tax_label | default: 'TVA (20%)' }}</span>
              <span class="text-white font-semibold" id="cart-tax">0,00 €</span>
            </div>
          {% endif %}
          
          <div class="summary-row">
            <span class="text-xl font-bold text-white">{{ section.settings.total_label | default: 'Total TTC' }}</span>
            <span class="summary-total" id="cart-total">0,00 €</span>
          </div>

          <!-- Checkout Button -->
          <button class="checkout-btn" onclick="proceedToCheckout()" id="checkout-button">
            <span class="flex items-center justify-center gap-3">
              <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"></path>
              </svg>
              {{ section.settings.checkout_button | default: 'Finaliser ma Commande' }}
              <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
              </svg>
            </span>
          </button>

          <!-- Payment Methods -->
          {% if section.settings.show_payment_methods %}
            <div class="mt-4 text-center">
              <p class="text-gray-400 text-sm mb-3">{{ section.settings.payment_title | default: 'Paiement 100% sécurisé' }}</p>
              <div class="flex justify-center items-center gap-4 flex-wrap">
                {% for block in section.blocks %}
                  {% if block.type == 'payment_method' %}
                    <div class="flex items-center gap-2 px-3 py-2 bg-gray-800/50 rounded-lg border border-gray-700">
                      <span class="text-lg">{{ block.settings.icon }}</span>
                      <span class="text-gray-300 text-sm">{{ block.settings.name }}</span>
                    </div>
                  {% endif %}
                {% endfor %}
              </div>
            </div>
          {% endif %}
        </div>
      </div>

      <!-- Empty Cart -->
      <div id="empty-cart-section" style="display: none;">
        <div class="empty-cart">
          <div class="empty-cart-icon">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m0 0h8m-8 0a2 2 0 100 4 2 2 0 000-4zm8 0a2 2 0 100 4 2 2 0 000-4z"></path>
            </svg>
          </div>
          <h2>{{ section.settings.empty_title | default: 'Votre Panier est Vide' }}</h2>
          <p>{{ section.settings.empty_description | default: 'Découvrez nos créations néon exceptionnelles et illuminez votre espace avec style !' }}</p>
          
          <a href="{{ section.settings.shop_url | default: '/collections/all' }}" class="continue-shopping-btn">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
            </svg>
            {{ section.settings.continue_shopping | default: 'Découvrir nos Néons' }}
          </a>
        </div>
      </div>
    </div>

    <!-- Recommended Products -->
    {% if section.settings.show_recommendations %}
      <div class="recommended-products" id="recommended-section" style="display: none;">
        <h3 class="text-2xl font-bold text-white mb-4 text-center">
          <span class="neon-text-purple">{{ section.settings.recommendations_title | default: 'Créations Recommandées' }}</span>
        </h3>
        <p class="text-gray-300 text-center mb-6">
          {{ section.settings.recommendations_subtitle | default: 'Complétez votre commande avec ces créations populaires' }}
        </p>
        
        <div class="recommended-grid" id="recommended-products">
          <!-- Recommended products will be populated by JavaScript -->
        </div>
      </div>
    {% endif %}
  </div>
</div>

<!-- Cart JavaScript -->
<script>
let cart = { items: [], total_price: 0, item_count: 0 };
const shippingThreshold = {{ section.settings.shipping_threshold | default: 10000 }}; // In cents

// Initialize cart
document.addEventListener('DOMContentLoaded', function() {
  loadCart();
  
  // Listen for cart updates
  document.addEventListener('cart:updated', loadCart);
});

// Load cart data
async function loadCart() {
  showLoading();
  
  try {
    const response = await fetch('/cart.js');
    cart = await response.json();
    
    hideLoading();
    renderCart();
    updateShippingProgress();
    
    if (cart.item_count > 0) {
      loadRecommendations();
    }
  } catch (error) {
    console.error('Error loading cart:', error);
    hideLoading();
    showError('{{ section.settings.error_loading | default: "Erreur lors du chargement du panier" }}');
  }
}

// Show loading state
function showLoading() {
  document.getElementById('cart-loading').style.display = 'flex';
  document.getElementById('cart-items-section').style.display = 'none';
  document.getElementById('empty-cart-section').style.display = 'none';
}

// Hide loading state
function hideLoading() {
  document.getElementById('cart-loading').style.display = 'none';
}

// Render cart
function renderCart() {
  if (cart.item_count === 0) {
    showEmptyCart();
    return;
  }
  
  showCartItems();
  renderCartItems();
  updateCartSummary();
}

// Show empty cart
function showEmptyCart() {
  document.getElementById('empty-cart-section').style.display = 'block';
  document.getElementById('cart-items-section').style.display = 'none';
  document.getElementById('recommended-section').style.display = 'none';
}

// Show cart items
function showCartItems() {
  document.getElementById('cart-items-section').style.display = 'block';
  document.getElementById('empty-cart-section').style.display = 'none';
  document.getElementById('recommended-section').style.display = 'block';
}

// Render cart items
function renderCartItems() {
  const container = document.getElementById('cart-items-list');
  const itemCount = document.getElementById('item-count');
  
  itemCount.textContent = cart.item_count;
  
  container.innerHTML = cart.items.map(item => `
    <div class="cart-item" data-key="${item.key}" itemscope itemtype="https://schema.org/Product">
      <img 
        src="${item.featured_image?.url || '/assets/placeholder.jpg'}" 
        alt="Néon LED personnalisé ${item.product_title} - ${item.variant_title || ''}"
        class="cart-item-image"
        itemprop="image"
        width="120"
        height="120"
        loading="lazy"
      />
      
      <div class="cart-item-details">
        <h3 itemprop="name">${item.product_title}</h3>
        ${item.variant_title ? `<p class="text-gray-400 text-sm" itemprop="model">${item.variant_title}</p>` : ''}
        <div class="flex items-center gap-4 mt-2">
          <div class="quantity-controls">
            <button class="quantity-btn" onclick="updateQuantity('${item.key}', ${item.quantity - 1})" ${item.quantity <= 1 ? 'disabled' : ''}>
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"></path>
              </svg>
            </button>
            <input 
              type="number" 
              class="quantity-input" 
              value="${item.quantity}" 
              min="1"
              onchange="updateQuantity('${item.key}', this.value)"
              itemprop="quantity"
            />
            <button class="quantity-btn" onclick="updateQuantity('${item.key}', ${item.quantity + 1})">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
              </svg>
            </button>
          </div>
          
          <button class="remove-btn" onclick="removeItem('${item.key}')" title="Supprimer cet article">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
            </svg>
          </button>
        </div>
      </div>
      
      <div class="text-right">
        <div class="cart-item-price" itemprop="offers" itemscope itemtype="https://schema.org/Offer">
          <span itemprop="price" content="${item.final_price / 100}">${formatMoney(item.final_price)}</span>
          <meta itemprop="priceCurrency" content="EUR">
        </div>
        ${item.original_price > item.final_price ? `
          <div class="text-gray-500 line-through text-sm">${formatMoney(item.original_price)}</div>
          <div class="text-green-400 text-xs font-medium">
            -${Math.round((1 - item.final_price / item.original_price) * 100)}%
          </div>
        ` : ''}
      </div>
    </div>
  `).join('');
}

// Update cart summary
function updateCartSummary() {
  document.getElementById('cart-subtotal').textContent = formatMoney(cart.total_price);
  document.getElementById('cart-total').textContent = formatMoney(cart.total_price);
  
  // Update tax if enabled
  const taxElement = document.getElementById('cart-tax');
  if (taxElement) {
    const tax = Math.round(cart.total_price * 0.2); // 20% VAT
    taxElement.textContent = formatMoney(tax);
  }
}

// Update shipping progress
function updateShippingProgress() {
  if (!{{ section.settings.show_shipping_progress | json }}) return;
  
  const progressBar = document.getElementById('shipping-progress');
  const remainingElement = document.getElementById('shipping-remaining');
  const messageElement = document.getElementById('shipping-message');
  
  if (!progressBar) return;
  
  const remaining = Math.max(0, shippingThreshold - cart.total_price);
  const progress = Math.min(100, (cart.total_price / shippingThreshold) * 100);
  
  progressBar.style.width = progress + '%';
  
  if (remaining > 0) {
    remainingElement.textContent = formatMoney(remaining);
    messageElement.textContent = `{{ section.settings.shipping_message | default: 'Plus que [amount]€ pour la livraison gratuite !' }}`.replace('[amount]', formatMoney(remaining));
    document.getElementById('shipping-cost').textContent = '{{ section.settings.shipping_cost | default: "5,90 €" }}';
  } else {
    remainingElement.textContent = '0€';
    messageElement.textContent = '{{ section.settings.free_shipping_achieved | default: "🎉 Livraison gratuite débloquée !" }}';
    messageElement.style.color = '#10b981';
    document.getElementById('shipping-cost').textContent = '{{ section.settings.free_shipping | default: "GRATUITE" }}';
  }
}

// Update quantity
async function updateQuantity(key, quantity) {
  if (quantity < 1) {
    removeItem(key);
    return;
  }
  
  const item = document.querySelector(`[data-key="${key}"]`);
  item.classList.add('quantity-updated');
  
  try {
    const response = await fetch('/cart/change.js', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({
        id: key,
        quantity: parseInt(quantity)
      })
    });
    
    if (response.ok) {
      cart = await response.json();
      renderCart();
      updateShippingProgress();
      showNotification('{{ section.settings.quantity_updated | default: "Quantité mise à jour" }}', 'success');
    } else {
      throw new Error('Update failed');
    }
  } catch (error) {
    console.error('Error updating quantity:', error);
    showNotification('{{ section.settings.error_update | default: "Erreur lors de la mise à jour" }}', 'error');
  }
  
  setTimeout(() => {
    item.classList.remove('quantity-updated');
  }, 600);
}

// Remove item
async function removeItem(key) {
  const item = document.querySelector(`[data-key="${key}"]`);
  item.style.opacity = '0.5';
  
  try {
    const response = await fetch('/cart/change.js', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({
        id: key,
        quantity: 0
      })
    });
    
    if (response.ok) {
      cart = await response.json();
      renderCart();
      updateShippingProgress();
      showNotification('{{ section.settings.item_removed | default: "Article supprimé du panier" }}', 'success');
    } else {
      throw new Error('Remove failed');
    }
  } catch (error) {
    console.error('Error removing item:', error);
    item.style.opacity = '1';
    showNotification('{{ section.settings.error_remove | default: "Erreur lors de la suppression" }}', 'error');
  }
}

// Apply promo code
async function applyPromoCode() {
  const input = document.getElementById('promo-code-input');
  const code = input.value.trim();
  
  if (!code) {
    showNotification('{{ section.settings.promo_empty | default: "Veuillez entrer un code promo" }}', 'warning');
    return;
  }
  
  try {
    // This would need to be implemented with Shopify's discount API
    showNotification('{{ section.settings.promo_applied | default: "Code promo appliqué avec succès !" }}', 'success');
    input.value = '';
  } catch (error) {
    showNotification('{{ section.settings.promo_invalid | default: "Code promo invalide" }}', 'error');
  }
}

// Proceed to checkout
function proceedToCheckout() {
  if (cart.item_count === 0) {
    showNotification('{{ section.settings.empty_checkout | default: "Votre panier est vide" }}', 'warning');
    return;
  }
  
  // Add loading state to button
  const button = document.getElementById('checkout-button');
  const originalText = button.innerHTML;
  button.innerHTML = `
    <span class="flex items-center justify-center gap-3">
      <div class="loading-spinner" style="width: 20px; height: 20px; margin: 0;"></div>
      {{ section.settings.checkout_loading | default: 'Redirection...' }}
    </span>
  `;
  button.disabled = true;
  
  // Redirect to checkout
  setTimeout(() => {
    window.location.href = '/checkout';
  }, 1000);
}

// Load recommendations
async function loadRecommendations() {
  if (!{{ section.settings.show_recommendations | json }}) return;
  
  try {
    // Get product recommendations based on cart items
    const productIds = cart.items.map(item => item.product_id);
    const response = await fetch(`/recommendations/products.json?product_id=${productIds[0]}&limit=4`);
    const data = await response.json();
    
    if (data.products && data.products.length > 0) {
      renderRecommendations(data.products);
    }
  } catch (error) {
    console.error('Error loading recommendations:', error);
  }
}

// Render recommendations
function renderRecommendations(products) {
  const container = document.getElementById('recommended-products');
  
  container.innerHTML = products.map(product => `
    <div class="recommended-item" onclick="window.location.href='${product.url}'">
      <img 
        src="${product.featured_image}" 
        alt="Néon LED ${product.title}"
        style="width: 100%; height: 150px; object-fit: cover; border-radius: 8px; margin-bottom: 1rem;"
        loading="lazy"
      />
      <h4 class="text-white font-semibold mb-2">${product.title}</h4>
      <p class="text-cyan-400 font-bold">${formatMoney(product.price)}</p>
      <button class="w-full mt-3 px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-600 rounded-lg text-white font-medium transition-all duration-300 hover:scale-105">
        {{ section.settings.add_to_cart | default: 'Ajouter au Panier' }}
      </button>
    </div>
  `).join('');
}

// Utility functions
function formatMoney(cents) {
  return new Intl.NumberFormat('fr-FR', {
    style: 'currency',
    currency: 'EUR'
  }).format(cents / 100);
}

function showNotification(message, type = 'info') {
  const notification = document.createElement('div');
  notification.className = `fixed top-4 right-4 z-50 px-6 py-3 rounded-lg text-white font-medium transition-all duration-300 transform translate-x-full`;
  
  const colors = {
    success: 'bg-green-500',
    error: 'bg-red-500',
    warning: 'bg-yellow-500',
    info: 'bg-blue-500'
  };
  
  notification.classList.add(colors[type] || colors.info);
  notification.textContent = message;
  document.body.appendChild(notification);
  
  // Animate in
  setTimeout(() => {
    notification.classList.remove('translate-x-full');
  }, 100);
  
  // Animate out and remove
  setTimeout(() => {
    notification.classList.add('translate-x-full');
    setTimeout(() => {
      if (document.body.contains(notification)) {
        document.body.removeChild(notification);
      }
    }, 300);
  }, 3000);
}

function showError(message) {
  const container = document.getElementById('cart-content');
  container.innerHTML = `
    <div class="text-center py-20">
      <svg class="w-24 h-24 text-red-400 mx-auto mb-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
      </svg>
      <h2 class="text-2xl font-bold text-white mb-4">{{ section.settings.error_title | default: 'Erreur de Chargement' }}</h2>
      <p class="text-gray-400 mb-8">${message}</p>
      <button onclick="loadCart()" class="px-8 py-4 bg-gradient-to-r from-cyan-500 to-purple-600 rounded-full text-white font-semibold transition-all duration-300 hover:scale-105">
        {{ section.settings.retry_button | default: 'Réessayer' }}
      </button>
    </div>
  `;
}

// Initialize cart on page load
loadCart();
</script>

{% schema %}
{
  "name": "Page Panier Premium",
  "settings": [
    {
      "type": "header",
      "content": "En-tête de page"
    },
    {
      "type": "text",
      "id": "page_title",
      "label": "Titre SEO de la page",
      "default": "Panier - Néons LED Personnalisés Haut de Gamme | LumiNéon"
    },
    {
      "type": "textarea",
      "id": "page_description",
      "label": "Description SEO",
      "default": "Finalisez votre commande de néons LED personnalisés. Fabrication française haut de gamme, livraison express, paiement sécurisé. Garantie 2 ans incluse."
    },
    {
      "type": "text",
      "id": "title",
      "label": "Titre principal",
      "default": "Votre Panier Néon"
    },
    {
      "type": "textarea",
      "id": "subtitle",
      "label": "Sous-titre",
      "default": "🛒 Finalisez votre commande de néons LED personnalisés. Fabrication française premium, livraison express sécurisée."
    },
    {
      "type": "header",
      "content": "Textes du panier"
    },
    {
      "type": "text",
      "id": "items_title",
      "label": "Titre des articles",
      "default": "🎨 Vos Créations Néon"
    },
    {
      "type": "text",
      "id": "items_text",
      "label": "Texte articles",
      "default": "article(s)"
    },
    {
      "type": "text",
      "id": "summary_title",
      "label": "Titre récapitulatif",
      "default": "Récapitulatif Premium"
    },
    {
      "type": "text",
      "id": "subtotal_label",
      "label": "Label sous-total",
      "default": "Sous-total"
    },
    {
      "type": "text",
      "id": "shipping_label",
      "label": "Label livraison",
      "default": "Livraison Express"
    },
    {
      "type": "text",
      "id": "total_label",
      "label": "Label total",
      "default": "Total TTC"
    },
    {
      "type": "text",
      "id": "checkout_button",
      "label": "Bouton finaliser",
      "default": "Finaliser ma Commande"
    },
    {
      "type": "header",
      "content": "Livraison gratuite"
    },
    {
      "type": "checkbox",
      "id": "show_shipping_progress",
      "label": "Afficher la barre de progression",
      "default": true
    },
    {
      "type": "number",
      "id": "shipping_threshold",
      "label": "Seuil livraison gratuite (en centimes)",
      "default": 10000,
      "info": "10000 = 100€"
    },
    {
      "type": "text",
      "id": "shipping_title",
      "label": "Titre livraison",
      "default": "🚚 Livraison Gratuite"
    },
    {
      "type": "text",
      "id": "shipping_message",
      "label": "Message progression",
      "default": "Plus que [amount]€ pour la livraison gratuite !",
      "info": "[amount] sera remplacé par le montant restant"
    },
    {
      "type": "text",
      "id": "free_shipping_achieved",
      "label": "Message livraison gratuite",
      "default": "🎉 Livraison gratuite débloquée !"
    },
    {
      "type": "text",
      "id": "free_shipping",
      "label": "Texte livraison gratuite",
      "default": "GRATUITE"
    },
    {
      "type": "text",
      "id": "shipping_cost",
      "label": "Coût livraison",
      "default": "5,90 €"
    },
    {
      "type": "header",
      "content": "Code promo"
    },
    {
      "type": "checkbox",
      "id": "show_promo_code",
      "label": "Afficher section code promo",
      "default": true
    },
    {
      "type": "text",
      "id": "promo_title",
      "label": "Titre code promo",
      "default": "Code Promo"
    },
    {
      "type": "text",
      "id": "promo_placeholder",
      "label": "Placeholder code promo",
      "default": "Entrez votre code promo..."
    },
    {
      "type": "text",
      "id": "promo_button",
      "label": "Bouton appliquer",
      "default": "Appliquer"
    },
    {
      "type": "header",
      "content": "Panier vide"
    },
    {
      "type": "text",
      "id": "empty_title",
      "label": "Titre panier vide",
      "default": "Votre Panier est Vide"
    },
    {
      "type": "textarea",
      "id": "empty_description",
      "label": "Description panier vide",
      "default": "Découvrez nos créations néon exceptionnelles et illuminez votre espace avec style !"
    },
    {
      "type": "text",
      "id": "continue_shopping",
      "label": "Bouton continuer",
      "default": "Découvrir nos Néons"
    },
    {
      "type": "url",
      "id": "shop_url",
      "label": "URL boutique",
      "default": "/collections/all"
    },
    {
      "type": "header",
      "content": "Recommandations"
    },
    {
      "type": "checkbox",
      "id": "show_recommendations",
      "label": "Afficher les recommandations",
      "default": true
    },
    {
      "type": "text",
      "id": "recommendations_title",
      "label": "Titre recommandations",
      "default": "Créations Recommandées"
    },
    {
      "type": "text",
      "id": "recommendations_subtitle",
      "label": "Sous-titre recommandations",
      "default": "Complétez votre commande avec ces créations populaires"
    },
    {
      "type": "text",
      "id": "add_to_cart",
      "label": "Bouton ajouter",
      "default": "Ajouter au Panier"
    },
    {
      "type": "header",
      "content": "Options avancées"
    },
    {
      "type": "checkbox",
      "id": "show_tax_line",
      "label": "Afficher ligne TVA",
      "default": true
    },
    {
      "type": "text",
      "id": "tax_label",
      "label": "Label TVA",
      "default": "TVA (20%)"
    },
    {
      "type": "checkbox",
      "id": "show_payment_methods",
      "label": "Afficher moyens de paiement",
      "default": true
    },
    {
      "type": "text",
      "id": "payment_title",
      "label": "Titre paiement",
      "default": "Paiement 100% sécurisé"
    },
    {
      "type": "header",
      "content": "Messages système"
    },
    {
      "type": "text",
      "id": "loading_text",
      "label": "Texte chargement",
      "default": "Chargement de votre panier..."
    },
    {
      "type": "text",
      "id": "checkout_loading",
      "label": "Texte redirection",
      "default": "Redirection..."
    },
    {
      "type": "text",
      "id": "quantity_updated",
      "label": "Message quantité mise à jour",
      "default": "Quantité mise à jour"
    },
    {
      "type": "text",
      "id": "item_removed",
      "label": "Message article supprimé",
      "default": "Article supprimé du panier"
    },
    {
      "type": "text",
      "id": "error_loading",
      "label": "Erreur chargement",
      "default": "Erreur lors du chargement du panier"
    },
    {
      "type": "text",
      "id": "error_update",
      "label": "Erreur mise à jour",
      "default": "Erreur lors de la mise à jour"
    },
    {
      "type": "text",
      "id": "error_remove",
      "label": "Erreur suppression",
      "default": "Erreur lors de la suppression"
    },
    {
      "type": "text",
      "id": "error_title",
      "label": "Titre erreur",
      "default": "Erreur de Chargement"
    },
    {
      "type": "text",
      "id": "retry_button",
      "label": "Bouton réessayer",
      "default": "Réessayer"
    },
    {
      "type": "text",
      "id": "promo_empty",
      "label": "Message code vide",
      "default": "Veuillez entrer un code promo"
    },
    {
      "type": "text",
      "id": "promo_applied",
      "label": "Message code appliqué",
      "default": "Code promo appliqué avec succès !"
    },
    {
      "type": "text",
      "id": "promo_invalid",
      "label": "Message code invalide",
      "default": "Code promo invalide"
    },
    {
      "type": "text",
      "id": "empty_checkout",
      "label": "Message panier vide checkout",
      "default": "Votre panier est vide"
    }
  ],
  "blocks": [
    {
      "type": "trust_indicator",
      "name": "Indicateur de confiance",
      "settings": [
        {
          "type": "html",
          "id": "icon",
          "label": "Icône SVG",
          "default": "<svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z\"></path></svg>"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Titre",
          "default": "Paiement Sécurisé"
        },
        {
          "type": "text",
          "id": "description",
          "label": "Description",
          "default": "SSL 256-bit + Cryptage bancaire"
        }
      ]
    },
    {
      "type": "payment_method",
      "name": "Moyen de paiement",
      "settings": [
        {
          "type": "text",
          "id": "icon",
          "label": "Icône (emoji)",
          "default": "💳"
        },
        {
          "type": "text",
          "id": "name",
          "label": "Nom",
          "default": "Visa"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Page Panier Premium",
      "category": "Custom",
      "blocks": [
        {
          "type": "trust_indicator",
          "settings": {
            "icon": "<svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z\"></path></svg>",
            "title": "Paiement Sécurisé",
            "description": "SSL 256-bit + Cryptage bancaire"
          }
        },
        {
          "type": "trust_indicator",
          "settings": {
            "icon": "<svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4\"></path></svg>",
            "title": "Livraison Express",
            "description": "2-3 jours partout en France"
          }
        },
        {
          "type": "trust_indicator",
          "settings": {
            "icon": "<svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"></path></svg>",
            "title": "Garantie 2 Ans",
            "description": "Pièces et main d'œuvre incluses"
          }
        },
        {
          "type": "trust_indicator",
          "settings": {
            "icon": "<svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\"></path><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\"></path></svg>",
            "title": "Made in France",
            "description": "Fabrication artisanale française"
          }
        },
        {
          "type": "payment_method",
          "settings": {
            "icon": "💳",
            "name": "Visa"
          }
        },
        {
          "type": "payment_method",
          "settings": {
            "icon": "💳",
            "name": "Mastercard"
          }
        },
        {
          "type": "payment_method",
          "settings": {
            "icon": "🅿️",
            "name": "PayPal"
          }
        },
        {
          "type": "payment_method",
          "settings": {
            "icon": "🏦",
            "name": "Virement"
          }
        }
      ],
      "settings": {
        "page_title": "Panier - Néons LED Personnalisés Haut de Gamme | LumiNéon",
        "page_description": "Finalisez votre commande de néons LED personnalisés. Fabrication française haut de gamme, livraison express, paiement sécurisé. Garantie 2 ans incluse.",
        "title": "Votre Panier Néon",
        "subtitle": "🛒 Finalisez votre commande de néons LED personnalisés. Fabrication française premium, livraison express sécurisée.",
        "items_title": "🎨 Vos Créations Néon",
        "summary_title": "Récapitulatif Premium",
        "checkout_button": "Finaliser ma Commande",
        "show_shipping_progress": true,
        "shipping_threshold": 10000,
        "show_promo_code": true,
        "show_recommendations": true,
        "show_tax_line": true,
        "show_payment_methods": true
      }
    }
  ]
}
{% endschema %}